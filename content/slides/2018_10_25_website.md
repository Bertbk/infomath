+++
title = "DIY: Site web"

math = true

type = "remark"
theme = "middlebury"


+++
class: center, middle, inverse

# DIY: Site web

25 octobre 2018

*Usage: perso, s√©minaire, √©quipe, logiciel, documentation logiciel, cours, ~~faire le caf√©~~...*

---
# Pourquoi avoir son site perso ?

- *~~Parce que tout le monde en a un~~*
- Visibilit√© :
  - De vous
  - De votre travail
- Acc√®s √† vos publications
- Enseignement :
  - Listing
  - Horaires / Salles
  - Cours (plut√¥t qu'un pdf)
- Informations pour vous contacter
- Liens vers vos projets (ANR, √âquipe Inria, ...)
- CV

---
## M√©thode actuelle : h√©ritage

> *Tiens, voil√† le code s√©culaire qui te permet d'avoir un site. *
> *Surtout, ne change rien, celui qui a cod√© cela est maintenant √† la retraite...*

- Maintenance laborieuse (si existante)
- Non "responsive" (mobile / tablette )
- [possibles] Failles de s√©curit√©
- Design parfois douteux


## D√©veloppement web : c'est un m√©tier...


- Nombreux Langages :
  - HTML (s√©mantique)
  - CSS ("design")
  - JavaScript (horrible)
- Veille technologique 
  - Framework (Bootstrap, ...)
  - Biblioth√®ques (Javascript (ou pas))
  - ...
- Accessibilit√©

---
class:center, middle

# En r√©sum√©...

<iframe src="https://giphy.com/embed/5eFp76zhsq3uw" width="720" height="477" frameBorder="0" ></iframe>

---
class:center, middle

# Alors, que faire ?

![Que faire ?](https://designretropopwizzz.files.wordpress.com/2014/03/egz0ewt0mti_o_mr-manatane-comprendre-la-jeunesse.jpg?w=665&h=457)

---
class:inverse, center, middle

# Ce qu'on vous propose

*Sans conna√Ætre une once de HTML et encore moins de Javascript !*

---
## Fonctionnalit√©s

- "About": 
  - Biographie
  - CV
  - Exp√©rience pro
  - Liens "sociaux" (researchgate, google scholar, github, ...)
- Listes de vos ...
  - Publications + lien vers pdf/DOI/code/slides/projet/...
  - Talks + lien vers pdf/DOI/code/slides/projet/...
  - Projets (ANR, ERC, ...)
  - Enseignements
- Informations pour vous contacter
- Cours / Documentations 

## Cadeau bonus

On peut y faire du LaTeX

$$\int\_{\Omega} u(x) = 1$$

---
class: middle, center, inverse
# Prix √† payer
*There is no free lunch!*

---

## Markdown ("LaTeX en plus simple")
```markdown
# Section
## SubSection
### SubSubSection
Je **suis en gras**, Tu es en *italique*, [Ceci est un lien](url)
Voil√† des math :$x = 2$ 
```

## Facultatif mais recommand√© : Git (3 √† 4 commandes)
  - `git add` = tracker un nouveau fichier
```bash
git add monfichier
```
  - `git commit` = faire une "sauvegarde" du code
```bash
git commit -m "message" -a
```
  - `git push` = envoie du code sur le serveur
```bash
git push
```

<!-- ---
## A propos du th√®me (= design)

- Responsive
- Moderne
- 6 choix de couleur du th√®me
- Et surtout, maintenu ! (+1000 star d√©p√¥t github)

## Exemples

- [Infomath](https://ljll.math.upmc.fr/infomath)
- [Le mien](https://ljll.math.upmc.fr/bthierry)
- [Pierre](https://ljll.math.upmc.fr/pmarchand)
 -->
---
class: center, middle, inverse

# C'est parti

*To the Glory!*

---
## Pr√©requis

- Un compte sur [Gitlab.com](https://www.gitlab.com)
- Un compte sur [Netlify.com](https://app.netlify.com/signup)  (Plus simple: √† partir de votre compte gitlab)

### Possibilit√© autre que Gitlab ...

- [Github](https://www.gitlab.com)
- [Bitbucket](https://bitbucket.org/)

### Attention

- **Gitlab.com** et non le Gitlab du labo (En cours !)
- Github : Le code du site sera alors **public**. Demandez alors le [*student developper pack*](https://education.github.com/) (gratuit pour les acad√©miques)
- Netlify : 
  - Possibilit√© de cr√©er un compte √† partir de votre compte Gitlab/Github/Bitbucket.
  - Ajoutez alors ensuite un **mot de passe**
- N'utilisez **surtout pas un email @protonmail.com** (snif)

---

## Tout est pr√™t

[Issue de la documentation](https://github.com/sourcethemes/academic-kickstart#quick-install-using-your-web-browser)

1. [Suivez ce lien](https://app.netlify.com/start/deploy?repository=https://github.com/sourcethemes/academic-kickstart)
2. Liez votre compte √† Gitlab (ou Github ou Bitbucket)
3. Choisissez un nom de r√©pertoire (*e.g* `webpage`)
4. Changez le nom de domaine (sur Netlify)
5. Admirez, c'est un bon d√©but ! (√† part que vous vous appelez Lena Smith...)


<iframe src="/img/talks/website/netlify.png" width="550" height="400" frameBorder="0" ></iframe>

---

## T√©l√©chargez les sources sur votre ordinateur

```bash
cd votre/dossier
git clone https://gitlab.com/USERNAME/webpage.git
cd webpage
```
Remplacez √©videmment `USERNAME` par votre nom d'utilisateur Gitlab.com.

Chez mois : `votre/dossier` = `$HOME/src/webpage`

## Arborescence

```
.
‚îú‚îÄ‚îÄ archetypes        // ! Pas toucher !
‚îú‚îÄ‚îÄ assets            // ! Pas toucher !
‚îú‚îÄ‚îÄ config.toml    // Vos param√®tres globaux
‚îú‚îÄ‚îÄ content        // Vos contenus
‚îú‚îÄ‚îÄ data           // Donn√©es (tableau, ...)
‚îú‚îÄ‚îÄ layouts           // ! Pas toucher !
‚îú‚îÄ‚îÄ static         // Vos fichiers annexes (image, ...)
‚îî‚îÄ‚îÄ themes            // ! SURTOUT Pas toucher !
```
[Source: gohugo.io](https://gohugo.io/getting-started/directory-structure/)

---

## Personnalisation

### Votre photo

1. "Petite" taille : `400px` x `400px` est suffisant
2. Placez la dans `/static/img/portrait.jpg` (‚ö† gardez le m√™me nom)
3. Mettez √† jour le d√©p√¥t :
```bash
git add static/img/portrait.jpg
git commit -m "Ma photo" -a
git push
```

### Votre meilleur ami : `/config.toml`

1. Un commentaire est pr√©c√©d√© du signe `#`.
2. Remplissez les cases qu'il convient.
3. Et puis...
```bash
git commit -m "Modification config.toml" -a
git push
```


---
## Votre contenu ? Dans `/content`

1. Chaque fichier Markdown (`.md`) sera transform√© en `.html`
2. L'arborescence est **conserv√©e** : `content/truc/machin.md` devient `monsite.com/truc/machin.html`
3. Chaque fichier `.md` poss√®de :
  - une en-t√™te avec les **m√©ta-donn√©es** (*e.g* `authors`) s√©par√© par `+++`
  - le contenu en MarkDown
4. Pour ne pas "transformer" un fichier en `html` :
  - ~~Supprimer le~~
  - Modifiez la m√©ta-donn√©  : 
      - `draft = true`
      - ou (pour les widgets de `home`) : `active = false`

```markdown
+++
# About/Biography widget.
widget = "about"
active = false
date = 2016-04-20T00:00:00

# Order that this section will appear in.
weight = 5
+++

Contenu : Je suis vraiment un geek

```


---

## Homepage : `/content/home`

1. Chaque fichier est un "widget"
2. `active = true` ou `active = false` : affiche (ou pas) le widget sur la homepage
3. Widget `project` r√©utilisable, pratique pour l'enseignement
4. Juste afficher un "truc" ? Utilisez `custom_widget` (dans l'en-t√™te)

```markdown
+++
widget = "custom"
active = false
date = 2016-04-20T00:00:00

title = "Mon truc"
subtitle = "Blabla"

# Order that this section will appear in.
weight = 30

+++

Contenu qui sera affich√© sur la droite
```


---

## Publication dans `/content/publication`

1. Une publication = un dossier : `content/publications/JCP18/index.md`
2. Copiez/Collez un dossier de `/content/publication`
3. Citation BibTeX : fichier `.bib` dans le dossier de la publi
4. `selected` : Mettre en avant (ou pas) la publication (widget)
5. Une image pour illustrer ? `featured.jpg` dans le dossier de la publication 
6. Possibilit√© pour l'image de "preview" de pr√©ciser le *focal spot* :
```toml
[image]
  # Caption (optional)
  caption = "L√©gende de l'image"
  # Options: Smart, Center, TopLeft, Top, TopRight,  ...
  focal_point = ""
```

## Autres m√©thodes 

- Build from BibTex: [Academic-Admin](https://github.com/sourcethemes/academic-admin) (non test√©!)
- ‚ö† Not working ! Will be fixed with Hugo 0.50 ‚ö† : 
```bash
hugo new --kind publication publication/<my-publication>
```

---
class: inverse, center, middle

# Travailler "localement" avant de d√©ployer
*Pour √©viter de `git push` √† chaque petit changement*

---
## Sous le capot

- Hugo ~~d√©lire~~ : *g√©n√©rateur de site static*
> Code Markdown ‚Üí Code HTML
- Netlify : *d√©ploiement et h√©bergement*
> `git push` ‚Üí Hugo ‚Üí mise en ligne (sauf si erreur)

## All you need is ~~love~~ Hugo

- Mac OS (installez [brew](https://brew.sh/))

```bash
brew install hugo           # Pour installer (une fois pour toute)
brew update && brew upgrade # Pour mettre √† jour (plus tard)
```

- Linux / Windows (/ Mac OS) : [T√©l√©chargez le dernier binaire](https://github.com/gohugoio/hugo/releases)

- ‚ö† Package Linux `hugo` obsol√®te ! √Ä √©viter ! ‚ö† 
- Compilation possible (‚ö† derni√®re version de Go)

---
## Serveur Hugo

1. Lancer le serveur Hugo dans un terminal :
```bash
cd Dossier/Du/Site
hugo serve
```
Et laissez le terminal tranquille !

2. Dans votre navigateur internet, allez sur  [http://localhost:1313](http://localhost:1313)


## Mise √† jour automatique

- √Ä chaque modification, le site (local) se met √† jour
- Rafra√Æchissez la page web
- Si probl√®me : serveur Hugo `ERROR` ?
  - Si oui : corrigez la
  - Si non, stoppez le serveur Hugo (`CTRL + C`) et relancez le
  > *Dans le doute, reboot!*
  - L'erreur persiste ? √âcrivez-moi

---

class: middle, center, inverse
# Aller plus loin
*Vers l'infini et au-del√†*

---
## Read The Nice Manual

- [Documentation tr√®s (tr√®s) exhaustive](https://sourcethemes.com/academic/docs/) et maintenue (sisi !) notamment la partie [Writing your content](https://sourcethemes.com/academic/docs/writing-markdown-latex/)
- Jetez un coup d'oeil dans `/themes/academic/exampleSite`
- Venez me voir et/ou regardez [les issues](https://github.com/gcushen/hugo-academic/issues)

## Mettre √† jour le Th√®me

```bash
sh ./update_academic.sh
```
1. Le faire r√©guli√®rement, mais ...
  1. Re-T√©l√©chargez la derni√®re version de Hugo
  2. Attention, possible "break" !
  3. Ne pas le faire le vendredi soir avant de partir en week-end
2. Mailing list d'utilisateurs ?

## Bricoler un truc hors des sentiers battus ?

Ne pas venir me voir üòÖ
---

## Pour finir

1. Mettez en place une redirection vers votre site `Netlify`
  - Demandez √† Khashayar (pas tr√®s sympa pour lui üòÖ)
  - Placez un fichier `.htacess` dans `public_html` :
```bash
Redirect 301 /username https://votresite.netlify.com
```

O√π **`username`** est ce qui apparait dans `https://ljll.math.upmc.fr/`**`username`**

## En cours...

1. Utilisation du Gitlab du labo
2. Envoie du site sur une URL du labo `https://ljll.math.upmc.fr/VotreNom`
3. Re-question : mailing list d'utilisateurs du th√®me ?

---
class: middle, center, inverse

# Merci !

<iframe src="https://giphy.com/embed/ClcWrARkrq1GM" width="480" height="260" frameBorder="0" class="giphy-embed" allowFullScreen></iframe>